{"code":"(this[\"webpackJsonptab-ulate\"]=this[\"webpackJsonptab-ulate\"]||[]).push([[0],{54:function(e,t,n){},58:function(e,t,n){},69:function(e,t,n){\"use strict\";n.r(t);var r=n(1),a=n.n(r),i=n(24),c=n.n(i),o=(n(54),n(55),n(56),n.p,n(57),n(42)),s=(n(58),n(17)),u=n.n(s),l=n(22),d=n(75),b=n(72),j=n(76),f=n(10);n(60),n(70);f.a.initializeApp({apiKey:\"AIzaSyAwcnfyJDrxYTVGnbGJ39pwyRPmbbln8jI\",authDomain:\"tabulate-da8ac.firebaseapp.com\",projectId:\"tabulate-da8ac\",storageBucket:\"tabulate-da8ac.appspot.com\",messagingSenderId:\"600957298630\",appId:\"1:600957298630:web:8dff818513beaf9c9734c7\",measurementId:\"G-FRRT9SB5QF\"}),console.log(f.a);var h=f.a.auth(),g=f.a.firestore();function m(){var e=new f.a.auth.GoogleAuthProvider;f.a.auth().signInWithPopup(e).then((function(){var e=f.a.firestore().collection(\"users\").doc(p());e.get().then((function(t){t.exists||e.set({name:p(),widgets:[],timestamp:f.a.firestore.FieldValue.serverTimestamp()}).catch((function(e){console.error(\"Error writing new message to database\",e)}))}))})).catch((function(e){console.error(\"Error signing in\",e)}))}function p(){return f.a.auth().currentUser.displayName}window.firebase&&f.a.app instanceof Function&&f.a.app().options||window.alert(\"You have not configured and imported the Firebase SDK. Make sure you go through the codelab setup instructions and make sure you are running the codelab using `firebase serve`\");var v=n(18),O=n(3),x=Object(r.createContext)({user:null}),w=function(e){var t=Object(r.useState)(null),n=Object(v.a)(t,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){h.onAuthStateChanged(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(t.displayName,t.email,i(t));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log(\"userprovider\",a)}),[]),Object(O.jsx)(x.Provider,{value:a,children:e.children})},k=function(){var e=Object(r.useContext)(x),t=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,void f.a.auth().signOut();case 2:window.location.reload();case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(d.a,{bg:\"light\",expand:\"lg\",children:[Object(O.jsx)(d.a.Brand,{href:\"#home\",style:{fontSize:40},children:\"Tabulate\"}),Object(O.jsx)(d.a.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),Object(O.jsx)(d.a.Collapse,{id:\"basic-navbar-nav\"}),e?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(b.a,{className:\"mr-2\",src:f.a.auth().currentUser.photoURL||\"https://lh3.googleusercontent.com/-5NpIVUCd2lE/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmn22K-OnZPInLvX19yR_TVKiUFCA/s96-c/photo.jpg\",roundedCircle:!0,height:40}),Object(O.jsx)(j.a,{onClick:t,children:\"Sign out\"})]}):Object(O.jsx)(j.a,{onClick:m,children:\"Sign in\"})]})},A=n(28),y=n(29),C=n(73),S=n(74),T=function(e){var t=e.link,n=e.removeLink;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(\"div\",{class:\"widget-link\",children:[Object(O.jsx)(\"a\",{href:t.url,target:\"_blank\",className:\"classes-link\",children:t.name}),Object(O.jsx)(\"button\",{onClick:function(){return n(t.url)},type:\"button\",class:\"btn btn-dark btn-sm delete-button\",children:\"delete\"})]})})},F=function(e){var t=e.title,n=e.links,r=e.openModal,a=e.removeLink,i=e.deleteWidget,c=e.isActive,o=e.onClick,s=e.changeWidgetTitle,d=function(e){a(t,e)},b=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<n.length)){e.next=7;break}return e.next=4,chrome.tabs.create({url:n[t].url});case 4:t++,e.next=1;break;case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(\"div\",{className:\"widget\",id:c?\"active-widget\":\"not-active\",onClick:o,children:[Object(O.jsxs)(\"div\",{className:\"widget-header\",children:[Object(O.jsx)(\"input\",{className:\"widget-title2\",type:\"text\",value:t,onChange:function(e){var n=e.target.value;console.log(\"newTitle:\",n),s(t,n)}}),Object(O.jsxs)(\"div\",{className:\"widget-control\",children:[Object(O.jsx)(\"button\",{class:\"btn btn-dark btn-sm action-button\",onClick:function(){return i(t)},children:\"delete widget\"}),Object(O.jsx)(\"button\",{class:\"btn btn-secondary btn-sm action-button\",onClick:b,children:\"open all\"}),Object(O.jsx)(\"button\",{class:\"btn btn-success btn-sm action-button\",onClick:function(){return r(t)},children:\"new link\"})]})]}),Object(O.jsx)(\"div\",{className:\"widget-grid\",children:n.map((function(e){return Object(O.jsx)(T,{link:e,removeLink:d})}))})]})},W=function(e){var t=Object(r.useState)(\"\"),n=Object(v.a)(t,2),a=n[0],i=n[1],c=function(){e.onHide(),i(\"\")};return Object(O.jsxs)(C.a,Object(y.a)(Object(y.a)({},e),{},{onHide:c,size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:!0,children:[Object(O.jsx)(C.a.Header,{closeButton:!0,children:Object(O.jsx)(C.a.Title,{id:\"contained-modal-title-vcenter\",children:\"Add Widget\"})}),Object(O.jsx)(C.a.Body,{children:Object(O.jsxs)(S.a,{onSubmit:function(t){t.preventDefault(),c(),e.addWidgetToDashboard(a)},children:[Object(O.jsxs)(S.a.Group,{controlId:\"websiteName\",children:[Object(O.jsx)(S.a.Label,{children:\"Title\"}),Object(O.jsx)(S.a.Control,{type:\"text\",placeholder:\"\",value:a,onChange:function(e){return i(e.target.value)}})]}),Object(O.jsx)(j.a,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})}),Object(O.jsx)(C.a.Footer,{children:Object(O.jsx)(j.a,{onClick:c,children:\"Close\"})})]}))};function I(e){var t=Object(r.useState)(\"\"),n=Object(v.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(\"\"),o=Object(v.a)(c,2),s=o[0],u=o[1],l=function(){e.onHide(),i(\"\"),u(\"\")};return Object(O.jsxs)(C.a,Object(y.a)(Object(y.a)({},e),{},{onHide:l,size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:!0,children:[Object(O.jsx)(C.a.Header,{closeButton:!0,children:Object(O.jsxs)(C.a.Title,{id:\"contained-modal-title-vcenter\",children:[\"Add to \",e.currWidget]})}),Object(O.jsx)(C.a.Body,{children:Object(O.jsxs)(S.a,{onSubmit:function(t){t.preventDefault(),l(),e.addLinkToWidget(a,s,e.currWidget)},children:[Object(O.jsxs)(S.a.Group,{controlId:\"websiteName\",children:[Object(O.jsx)(S.a.Label,{children:\"Website name\"}),Object(O.jsx)(S.a.Control,{type:\"text\",placeholder:\"\",value:a,onChange:function(e){return i(e.target.value)}})]}),Object(O.jsxs)(S.a.Group,{controlId:\"url\",children:[Object(O.jsx)(S.a.Label,{children:\"URL\"}),Object(O.jsx)(S.a.Control,{type:\"text\",placeholder:\"\",value:s,onChange:function(e){return u(e.target.value)}})]}),Object(O.jsx)(j.a,{variant:\"primary\",type:\"submit\",children:\"Save\"})]})})]}))}var L=function(){var e,t,n=Object(r.useContext)(x),i=a.a.useState(!1),c=Object(v.a)(i,2),o=c[0],s=c[1],d=a.a.useState(\"\"),b=Object(v.a)(d,2),j=b[0],h=b[1],m=Object(r.useState)(!1),w=Object(v.a)(m,2),k=w[0],y=w[1],C=a.a.useState([]),S=Object(v.a)(C,2),T=S[0],L=S[1],N=Object(r.useState)([]),E=Object(v.a)(N,2),B=(E[0],E[1],null===n||void 0===n||null===(e=n.email)||void 0===e||e.replace(\"@\",\"%40\"),function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.collection(\"users\").doc(t.displayName),e.next=3,n.get();case 3:return r=e.sent,e.next=6,r.data().widgets;case 6:a=e.sent,L(a);case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Object(r.useEffect)((function(){n&&B(n)}),[n]);var V=function(e,t){var n=T.find((function(t){return t.title===e}));n.links=n.links.filter((function(e){return e.url!==t}));var r=T.map((function(e){return e}));L(r),function(e,t){var n=f.a.firestore().collection(\"users\").doc(p());n.get().then((function(e){if(e.exists)return e.data().widgets})).then((function(r){var a=r.find((function(t){return t.title==e}));a.links=a.links.filter((function(e){return e.url!==t})),n.update({name:p(),widgets:r,timestamp:f.a.firestore.FieldValue.serverTimestamp()},{merge:!0}).catch((function(e){console.error(\"Error writing new message to database\",e)}))}))}(e,t)},D=function(e){s(!0),h(e)},H=function(e){var t=T.filter((function(t){return t.title!==e}));L(t),function(e){var t=f.a.firestore().collection(\"users\").doc(p());t.get().then((function(e){if(e.exists)return e.data().widgets})).then((function(n){var r=n.filter((function(t){return t.title!==e}));t.update({name:p(),widgets:r,timestamp:f.a.firestore.FieldValue.serverTimestamp()},{merge:!0}).catch((function(e){console.error(\"Error writing new message to database\",e)}))}))}(e)},G=function(e,t){T.find((function(t){return t.title===e})).title=t;var n=T.map((function(e){return e}));L(n),function(e,t){var n=f.a.firestore().collection(\"users\").doc(p());n.get().then((function(e){if(e.exists)return e.data().widgets})).then((function(r){var a=r.find((function(t){return t.title===e}));a.title=t,console.log(\"title:\",a.title),n.update({name:p(),widgets:r,timestamp:f.a.firestore.FieldValue.serverTimestamp()},{merge:!0}).catch((function(e){console.error(\"Error writing new message to database\",e)}))}))}(e,t)};return Object(O.jsx)(O.Fragment,{children:n?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(\"div\",{className:\"dashboard-grid\",children:T.map((function(e){return Object(O.jsx)(F,{title:e.title,links:e.links,openModal:D,removeLink:V,deleteWidget:H,changeWidgetTitle:G,isActive:j===e.title,onClick:function(){h(e.title)}})}))}),Object(O.jsx)(\"div\",{class:\"addWidgetContainer\",children:Object(O.jsx)(\"button\",(t={class:\"addWidgetButton\",type:\"button\"},Object(A.a)(t,\"class\",\"btn btn-primary\"),Object(A.a)(t,\"onClick\",(function(){y(!0)})),Object(A.a)(t,\"children\",\"Add widget\"),t))}),Object(O.jsx)(I,{show:o,onHide:function(){return s(!1)},currWidget:j,addLinkToWidget:function(e,t,n){var r=T.find((function(e){return e.title===n}));console.log(\"159\",T,r),t.startsWith(\"https://\")||(t=\"https://\"+t),r.links.push({url:t,name:e});var a=T.map((function(e){return e}));L(a),function(e,t,n){var r=f.a.firestore().collection(\"users\").doc(p()),a=[\"check this\"];r.get().then((function(r){(a=r.data().widgets).find((function(t){return t.title===e})).links.push({url:n,name:t}),a.map((function(e){return e}))})).then((function(){return r.update({name:p(),widgets:a,timestamp:f.a.firestore.FieldValue.serverTimestamp()},{merge:!0}).catch((function(e){console.error(\"Error writing new message to database\",e)}))})).catch((function(e){console.log(\"Error getting document:\",e)}))}(n,e,t)}}),Object(O.jsx)(W,{show:k,onHide:function(){return y(!1)},addWidgetToDashboard:function(e){var t=T.map((function(e){return e}));t.push({title:e,links:[]}),L(t),function(e){var t=f.a.firestore().collection(\"users\").doc(p());t&&t.get().then((function(e){return e.data().widgets})).then((function(n){return n.push({title:e,links:[]}),t.update({name:p(),widgets:n,timestamp:f.a.firestore.FieldValue.serverTimestamp()},{merge:!0}).catch((function(e){console.error(\"Error writing new message to database\",e)}))}))}(e)}})]}):Object(O.jsx)(O.Fragment,{})})};var N=function(){return Object(O.jsx)(w,{children:Object(O.jsx)(o.a,{children:Object(O.jsxs)(\"div\",{children:[Object(O.jsx)(k,{}),Object(O.jsx)(L,{})]})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(N,{})}),document.getElementById(\"root\")),E()}},[[69,1,2]]]);","name":"static/js/main.7a1cb2cf.chunk.js","map":{"version":3,"sources":["static/js/main.7a1cb2cf.chunk.js"],"names":["this","push","54","module","exports","__webpack_require__","58","69","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","p","regenerator","regenerator_default","asyncToGenerator","Navbar","Image","Button","index_esm","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","console","log","auth","db","firestore","signIn","provider","GoogleAuthProvider","signInWithPopup","then","user","collection","doc","getUserName","get","exists","set","name","widgets","timestamp","FieldValue","serverTimestamp","catch","error","currentUser","displayName","window","firebase","app","Function","options","alert","slicedToArray","jsx_runtime","UserContext","Object","UserProvider","props","_useState","_useState2","setuser","onAuthStateChanged","_ref","a","mark","_callee","wrap","_context","prev","next","email","stop","_x","apply","arguments","Provider","value","children","NavbarComponent_NavbarComponent","handleSignOut","signOut","location","reload","bg","expand","Brand","href","style","fontSize","Toggle","aria-controls","Collapse","id","className","src","photoURL","roundedCircle","height","onClick","defineProperty","objectSpread2","Modal","Form","components_WidgetLink","link","removeLink","class","url","target","type","components_Widget","title","links","openModal","deleteWidget","isActive","changeWidgetTitle","removeLinkFromThisWidget","openAllLinks","_ref2","i","length","chrome","tabs","create","onChange","event","newTitle","map","lnk","components_AddWidgetModal","widgetTitle","setWidgetTitle","onHide","size","aria-labelledby","centered","Header","closeButton","Title","Body","onSubmit","e","preventDefault","addWidgetToDashboard","Group","controlId","Label","Control","placeholder","variant","Footer","MyVerticallyCenteredModal","website","setWebsite","_useState3","_useState4","setUrl","currWidget","addLinkToWidget","components_Dashboard","_user$email","_jsx2","_React$useState","useState","_React$useState2","modalShow","setModalShow","_React$useState3","_React$useState4","setCurrWidget","_useState5","_useState6","showWidgetModal","setShowWidgetModal","_React$useState5","_React$useState6","setWidgets","_useState7","_useState8","fetchWidgets","replace","response","data","w","sent","removeLinkFromWidget","widgetName","widget","find","obj","filter","newState","update","merge","deleteLink","login_deleteWidget","newWidgetTitle","login_changeWidgetTitle","show","toEdit","startsWith","tempWidgets","login_addLinkToWidget","old","addWidget","src_App","src_reportWebVitals","onPerfEntry","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonptab-ulate\"] = this[\"webpackJsonptab-ulate\"] || []).push([[0],{\n\n/***/ 54:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 58:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(24);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(54);\n\n// EXTERNAL MODULE: ./node_modules/typeface-open-sans/index.css\nvar typeface_open_sans = __webpack_require__(55);\n\n// EXTERNAL MODULE: ./node_modules/typeface-open-sans-condensed/index.css\nvar typeface_open_sans_condensed = __webpack_require__(56);\n\n// CONCATENATED MODULE: ./src/logo.svg\n/* harmony default export */ var logo = (__webpack_require__.p + \"static/media/logo.6ce24c58.svg\");\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(57);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js + 5 modules\nvar react_router_dom = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(58);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(17);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Navbar.js + 11 modules\nvar Navbar = __webpack_require__(75);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Image.js\nvar Image = __webpack_require__(72);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js + 1 modules\nvar Button = __webpack_require__(76);\n\n// EXTERNAL MODULE: ./node_modules/firebase/app/dist/index.esm.js\nvar index_esm = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/firebase/auth/dist/index.esm.js\nvar dist_index_esm = __webpack_require__(60);\n\n// EXTERNAL MODULE: ./node_modules/firebase/firestore/dist/index.esm.js + 1 modules\nvar firestore_dist_index_esm = __webpack_require__(70);\n\n// CONCATENATED MODULE: ./src/scripts/login.js\n/**\r\n * Copyright 2018 Google Inc. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nvar firebaseConfig={apiKey:\"AIzaSyAwcnfyJDrxYTVGnbGJ39pwyRPmbbln8jI\",authDomain:\"tabulate-da8ac.firebaseapp.com\",projectId:\"tabulate-da8ac\",storageBucket:\"tabulate-da8ac.appspot.com\",messagingSenderId:\"600957298630\",appId:\"1:600957298630:web:8dff818513beaf9c9734c7\",measurementId:\"G-FRRT9SB5QF\"};// Initialize Firebase\nindex_esm[\"a\" /* default */].initializeApp(firebaseConfig);console.log(index_esm[\"a\" /* default */]);var auth=index_esm[\"a\" /* default */].auth();var db=index_esm[\"a\" /* default */].firestore();// Signs-in to TabUlate.\nfunction signIn(){// TODO 1: Sign in Firebase with credential from the Google user.\n// Sign into Firebase using popup auth & Google as the identity provider.\nvar provider=new index_esm[\"a\" /* default */].auth.GoogleAuthProvider();index_esm[\"a\" /* default */].auth().signInWithPopup(provider).then(function(){var user=index_esm[\"a\" /* default */].firestore().collection(\"users\").doc(getUserName());user.get().then(function(doc){if(!doc.exists){user.set({name:getUserName(),widgets:[],// do this at sign-in\ntimestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()}).catch(function(error){console.error(\"Error writing new message to database\",error);});}});}).catch(function(error){console.error(\"Error signing in\",error);});}// Signs-out of TabUlate.\nfunction signOut(){index_esm[\"a\" /* default */].auth().signOut();}// Initiate firebase auth.\n// export function initFirebaseAuth() {\n//   // TODO 3: Initialize Firebase.\n//   firebase.auth().onAuthStateChanged(authStateObserver);\n// }\n// Returns the signed-in user's profile Pic URL.\nfunction getProfilePicUrl(){return index_esm[\"a\" /* default */].auth().currentUser.photoURL||\"https://lh3.googleusercontent.com/-5NpIVUCd2lE/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmn22K-OnZPInLvX19yR_TVKiUFCA/s96-c/photo.jpg\";}// Returns the signed-in user's display name.\nfunction getUserName(){return index_esm[\"a\" /* default */].auth().currentUser.displayName;}// Returns true if a user is signed-in.\nfunction isUserSignedIn(){return!!index_esm[\"a\" /* default */].auth().currentUser;}function addWidget(widgetTitle){// Add a new message entry to the database.\nvar user=index_esm[\"a\" /* default */].firestore().collection(\"users\").doc(getUserName());if(user){user.get().then(function(doc){var tempWidgets=doc.data().widgets;return tempWidgets;}).then(function(tempWidgets){tempWidgets.push({title:widgetTitle,links:[]});return user.update({name:getUserName(),widgets:tempWidgets,timestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()},{merge:true}).catch(function(error){console.error(\"Error writing new message to database\",error);});});}}function getWidgets(){// returns the current user's widgets\nreturn new Promise(function(){var user=index_esm[\"a\" /* default */].firestore().collection(\"users\").doc(getUserName());user.get().then(function(doc){if(doc.exists){return doc.data().widgets;}else{}});});}function login_addLinkToWidget(widgetName,website,url){// Add a new message entry to the database.\nvar user=index_esm[\"a\" /* default */].firestore().collection(\"users\").doc(getUserName());var tempWidgets=[\"check this\"];user.get().then(function(doc){tempWidgets=doc.data().widgets;var toEdit=tempWidgets.find(function(obj){return obj.title===widgetName;});toEdit.links.push({url:url,name:website});tempWidgets.map(function(obj){return obj;});}).then(function(){return user.update({name:getUserName(),//widgets: [{widgetTitle: \"bruh\", links: [{linkName : url}, {}, {}]}],\nwidgets:tempWidgets,timestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()},{merge:true}).catch(function(error){console.error(\"Error writing new message to database\",error);});}).catch(function(error){console.log(\"Error getting document:\",error);});}function deleteLink(widgetName,url){var user=index_esm[\"a\" /* default */].firestore().collection(\"users\").doc(getUserName());user.get().then(function(doc){if(doc.exists){return doc.data().widgets;}else{}}).then(function(widgets){var widget=widgets.find(function(obj){return obj.title==widgetName;});widget.links=widget.links.filter(function(obj){return obj.url!==url;});user.update({name:getUserName(),widgets:widgets,timestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()},{merge:true}).catch(function(error){console.error(\"Error writing new message to database\",error);});});}function login_editLink(widgetName,linkTitle,newTitle,newURL){var user=index_esm[\"a\" /* default */].firestore().collection(\"users\").doc(getUserName());user.get().then(function(doc){if(doc.exists){return doc.data().widgets;}}).then(function(widgets){var widget=widgets.find(function(obj){return obj.title==widgetName;});for(var i=0;i<widget.links.length;i++){if(widget.links[i].name===linkTitle){widget.links[i].name=newTitle;widget.links[i].url=newURL;}}user.update({name:getUserName(),widgets:widgets,timestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()},{merge:true}).catch(function(error){console.error(\"Error writing new message to database\",error);});});}function login_deleteWidget(widgetName){var user=index_esm[\"a\" /* default */].firestore().collection(\"users\").doc(getUserName());user.get().then(function(doc){if(doc.exists){return doc.data().widgets;}else{}}).then(function(widgets){var newState=widgets.filter(function(obj){return obj.title!==widgetName;});user.update({name:getUserName(),widgets:newState,timestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()},{merge:true}).catch(function(error){console.error(\"Error writing new message to database\",error);});});}function login_changeWidgetTitle(widgetName,newWidgetTitle){var user=index_esm[\"a\" /* default */].firestore().collection(\"users\").doc(getUserName());user.get().then(function(doc){if(doc.exists){return doc.data().widgets;}}).then(function(widgets){var widget=widgets.find(function(obj){return obj.title===widgetName;});widget.title=newWidgetTitle;console.log(\"title:\",widget.title);user.update({name:getUserName(),widgets:widgets,timestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()},{merge:true}).catch(function(error){console.error(\"Error writing new message to database\",error);});});}// Loads chat messages history and listens for upcoming ones.\n// Returns true if user is signed-in. Otherwise false and displays a message.\nfunction checkSignedInWithMessage(){// Return true if the user is signed in Firebase\nif(isUserSignedIn()){return true;}}// Resets the given MaterialTextField.\nfunction resetMaterialTextfield(element){element.value=\"\";element.parentNode.MaterialTextfield.boundUpdateClassesHandler();}// Checks that the Firebase SDK has been correctly setup and configured.\nfunction checkSetup(){if(!window.firebase||!(index_esm[\"a\" /* default */].app instanceof Function)||!index_esm[\"a\" /* default */].app().options){window.alert(\"You have not configured and imported the Firebase SDK. \"+\"Make sure you go through the codelab setup instructions and make \"+\"sure you are running the codelab using `firebase serve`\");}}checkSetup();// initialize Firebase\n// initFirebaseAuth();\n// TODO: Enable Firebase Performance Monitoring.\n// We load currently existing chat messages and listen to new ones.\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/providers/UserProvider.js\nvar UserContext=/*#__PURE__*/Object(react[\"createContext\"])({user:null});/* harmony default export */ var UserProvider = (function(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),user=_useState2[0],setuser=_useState2[1];Object(react[\"useEffect\"])(function(){auth.onAuthStateChanged(/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(user){var displayName,email;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(user){displayName=user.displayName,email=user.email;setuser(user);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());console.log(\"userprovider\",user);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserContext.Provider,{value:user,children:props.children});});\n// CONCATENATED MODULE: ./src/components/NavbarComponent.js\nvar NavbarComponent_NavbarComponent=function NavbarComponent(){var user=Object(react[\"useContext\"])(UserContext);// console.log(\"navbar:\", user);\nvar handleSignOut=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return signOut();case 2:window.location.reload();case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleSignOut(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Navbar[\"a\" /* default */],{bg:\"light\",expand:\"lg\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Brand,{href:\"#home\",style:{fontSize:40},children:\"Tabulate\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Collapse,{id:\"basic-navbar-nav\"}),user?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{className:\"mr-2\",src:getProfilePicUrl(),roundedCircle:true,height:40}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleSignOut,children:\"Sign out\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:signIn,children:\"Sign in\"})]});};\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(29);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Modal.js + 26 modules\nvar Modal = __webpack_require__(73);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 14 modules\nvar Form = __webpack_require__(74);\n\n// CONCATENATED MODULE: ./src/components/WidgetLink.js\nvar WidgetLink_WidgetLink=function WidgetLink(_ref){var link=_ref.link,removeLink=_ref.removeLink;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"widget-link\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:link.url,target:\"_blank\",className:\"classes-link\",children:link.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return removeLink(link.url);},type:\"button\",class:\"btn btn-dark btn-sm delete-button\",children:\"delete\"})]})});};/* harmony default export */ var components_WidgetLink = (WidgetLink_WidgetLink);\n// CONCATENATED MODULE: ./src/components/Widget.js\n/*global chrome*/var Widget_Widget=function Widget(_ref){var title=_ref.title,links=_ref.links,openModal=_ref.openModal,removeLink=_ref.removeLink,deleteWidget=_ref.deleteWidget,isActive=_ref.isActive,onClick=_ref.onClick,changeWidgetTitle=_ref.changeWidgetTitle;var removeLinkFromThisWidget=function removeLinkFromThisWidget(url){removeLink(title,url);};var openAllLinks=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var i;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:i=0;case 1:if(!(i<links.length)){_context.next=7;break;}_context.next=4;return chrome.tabs.create({url:links[i].url});case 4:i++;_context.next=1;break;case 7:case\"end\":return _context.stop();}}},_callee);}));return function openAllLinks(){return _ref2.apply(this,arguments);};}();var changeTitle=function changeTitle(event){var newTitle=event.target.value;// setWidgetTitle(newTitle);\nconsole.log(\"newTitle:\",newTitle);changeWidgetTitle(title,newTitle);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"widget\",id:isActive?\"active-widget\":\"not-active\",onClick:onClick,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"widget-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"widget-title2\",type:\"text\",value:title,onChange:changeTitle}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"widget-control\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{class:\"btn btn-dark btn-sm action-button\",onClick:function onClick(){return deleteWidget(title);},children:\"delete widget\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{class:\"btn btn-secondary btn-sm action-button\",onClick:openAllLinks,children:\"open all\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{class:\"btn btn-success btn-sm action-button\",onClick:function onClick(){return openModal(title);},children:\"new link\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"widget-grid\",children:links.map(function(lnk){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_WidgetLink,{link:lnk,removeLink:removeLinkFromThisWidget});})})]});};/* harmony default export */ var components_Widget = (Widget_Widget);\n// CONCATENATED MODULE: ./src/components/AddWidgetModal.js\nvar AddWidgetModal_AddWidgetModal=function AddWidgetModal(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),widgetTitle=_useState2[0],setWidgetTitle=_useState2[1];var onHide=function onHide(){props.onHide();setWidgetTitle('');};var onSubmit=function onSubmit(e){e.preventDefault();onHide();props.addWidgetToDashboard(widgetTitle);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{onHide:onHide,size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{closeButton:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Title,{id:\"contained-modal-title-vcenter\",children:\"Add Widget\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Body,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:onSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{controlId:\"websiteName\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Title\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"text\",placeholder:\"\",value:widgetTitle,onChange:function onChange(e){return setWidgetTitle(e.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Footer,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:onHide,children:\"Close\"})})]}));};/* harmony default export */ var components_AddWidgetModal = (AddWidgetModal_AddWidgetModal);\n// CONCATENATED MODULE: ./src/components/Dashboard.js\n/*global chrome*/function MyVerticallyCenteredModal(props){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),website=_useState2[0],setWebsite=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),url=_useState4[0],setUrl=_useState4[1];var onHide=function onHide(){props.onHide();setWebsite(\"\");setUrl(\"\");};var onSubmit=function onSubmit(e){e.preventDefault();// console.log(website, url, props.currWidget);\nonHide();props.addLinkToWidget(website,url,props.currWidget);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{onHide:onHide,size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{closeButton:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Title,{id:\"contained-modal-title-vcenter\",children:[\"Add to \",props.currWidget]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Body,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:onSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{controlId:\"websiteName\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Website name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"text\",placeholder:\"\",value:website,onChange:function onChange(e){return setWebsite(e.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{controlId:\"url\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"URL\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"text\",placeholder:\"\",value:url,onChange:function onChange(e){return setUrl(e.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"primary\",type:\"submit\",children:\"Save\"})]})})]}));}var Dashboard_Dashboard=function Dashboard(){var _user$email,_jsx2;var user=Object(react[\"useContext\"])(UserContext);var _React$useState=react_default.a.useState(false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),modalShow=_React$useState2[0],setModalShow=_React$useState2[1];var _React$useState3=react_default.a.useState(\"\"),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),currWidget=_React$useState4[0],setCurrWidget=_React$useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),showWidgetModal=_useState6[0],setShowWidgetModal=_useState6[1];var _React$useState5=react_default.a.useState([]),_React$useState6=Object(slicedToArray[\"a\" /* default */])(_React$useState5,2),widgets=_React$useState6[0],setWidgets=_React$useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),recents=_useState8[0],setRecents=_useState8[1];// const [widgets, setWidgets] = React.useState([\n//   {\n//     title: \"Classes\",\n//     links: [\n//       { url: \"sp21.datastructur.es\", name: \"CS61B\" },\n//       {\n//         url:\n//           \"https://www.notion.so/Cubstart-Intro-to-Building-Apps-d42282d66dd942c399b6ce87167889d6\",\n//         name: \"Cubstart\",\n//       },\n//       { url: \"https://www.eecs70.org/\", name: \"CS70\" },\n//     ],\n//   },\n//   {\n//     title: \"Favorites\",\n//     links: [\n//       { url: \"sp21.datastructur.es\", name: \"weird link\" },\n//       {\n//         url:\n//           \"https://www.notion.so/Cubstart-Intro-to-Building-Apps-d42282d66dd942c399b6ce87167889d6\",\n//         name: \"Cubstart\",\n//       },\n//       { url: \"https://www.eecs70.org/\", name: \"CS70\" },\n//     ],\n//   },\n// ]);\n// const [recents, setRecents] = useState([\n//   {\n//     title: \"Youtube\",\n//     url: \"https://www.youtube.com\",\n//   },\n//   {\n//     title:\n//       \"Netflix test test test test test test test test test test test test test test test test test test test test test test test test test test\",\n//     url: \"https://www.netflix.com\",\n//   },\n//   {\n//     title: \"Google\",\n//     url: \"https://www.google.com\",\n//   },\n// ]);\n//UNCOMMENT FOR CHROME EXTENSION\n// useEffect(() => {\n//   chrome.history.search({ text: \"\", maxResults: 20 }, function (data) {\n//     const updated = [];\n//     data.forEach(function (page) {\n//       if (page.title && !updated.includes(page.title)) {\n//         updated.push({ title: page.title, url: page.url });\n//       }\n//     });\n//     setRecents(updated);\n//   });\n// }, []);\nvar userEmail=user===null||user===void 0?void 0:(_user$email=user.email)===null||_user$email===void 0?void 0:_user$email.replace(\"@\",\"%40\");//\"charlesming2002%40gmail.com\"\nvar fetchWidgets=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(user){var response,data,w;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:response=db.collection(\"users\").doc(user.displayName);_context.next=3;return response.get();case 3:data=_context.sent;_context.next=6;return data.data().widgets;case 6:w=_context.sent;setWidgets(w);case 8:case\"end\":return _context.stop();}}},_callee);}));return function fetchWidgets(_x){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){if(user){fetchWidgets(user);}},[user]);var addLinkToWidget=function addLinkToWidget(website,url,widgetName){var toEdit=widgets.find(function(obj){return obj.title===widgetName;});console.log(\"159\",widgets,toEdit);if(!url.startsWith(\"https://\")){url=\"https://\"+url;}toEdit.links.push({url:url,name:website});var newState=widgets.map(function(obj){return obj;});setWidgets(newState);login_addLinkToWidget(widgetName,website,url);//sync firebase\n};var removeLinkFromWidget=function removeLinkFromWidget(widgetName,url){var widget=widgets.find(function(obj){return obj.title===widgetName;});widget.links=widget.links.filter(function(obj){return obj.url!==url;});var newState=widgets.map(function(obj){return obj;});setWidgets(newState);deleteLink(widgetName,url);//sync firebase\n};var editLink=function editLink(widgetName,linkTitle,newTitle,newURL){var widget=widgets.find(function(obj){return obj.title===widgetName;});for(var i=0;i<widget.links.length;i++){if(widget.links[i].name===linkTitle){widget.links[i].name=newTitle;widget.links[i].url=newURL;}}var newState=widgets.map(function(obj){return obj;});setWidgets(newState);login_editLink(widgetName,linkTitle,newTitle,newURL);};var openModal=function openModal(widgetName){setModalShow(true);setCurrWidget(widgetName);//sync firebase\n};var openWidgetModal=function openWidgetModal(){setShowWidgetModal(true);};var addWidgetToDashboard=function addWidgetToDashboard(title){var old=widgets.map(function(obj){return obj;});old.push({title:title,links:[]});setWidgets(old);addWidget(title);//sync firebase\n};var deleteWidget=function deleteWidget(widgetName){var newState=widgets.filter(function(obj){return obj.title!==widgetName;});setWidgets(newState);login_deleteWidget(widgetName);};var changeWidgetTitle=function changeWidgetTitle(widgetName,newWidgetTitle){var widget=widgets.find(function(obj){return obj.title===widgetName;});widget.title=newWidgetTitle;var newState=widgets.map(function(obj){return obj;});setWidgets(newState);login_changeWidgetTitle(widgetName,newWidgetTitle);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:user?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"dashboard-grid\",children:widgets.map(function(widget){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Widget,{title:widget.title,links:widget.links,openModal:openModal,removeLink:removeLinkFromWidget,deleteWidget:deleteWidget,changeWidgetTitle:changeWidgetTitle,isActive:currWidget===widget.title,onClick:function onClick(){setCurrWidget(widget.title);}});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{class:\"addWidgetContainer\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",(_jsx2={class:\"addWidgetButton\",type:\"button\"},Object(defineProperty[\"a\" /* default */])(_jsx2,\"class\",\"btn btn-primary\"),Object(defineProperty[\"a\" /* default */])(_jsx2,\"onClick\",function onClick(){return openWidgetModal();}),Object(defineProperty[\"a\" /* default */])(_jsx2,\"children\",\"Add widget\"),_jsx2))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MyVerticallyCenteredModal,{show:modalShow,onHide:function onHide(){return setModalShow(false);},currWidget:currWidget,addLinkToWidget:addLinkToWidget}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AddWidgetModal,{show:showWidgetModal,onHide:function onHide(){return setShowWidgetModal(false);},addWidgetToDashboard:addWidgetToDashboard})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{})});};/* harmony default export */ var components_Dashboard = (Dashboard_Dashboard);\n// CONCATENATED MODULE: ./src/App.js\n/*global chrome*/function App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NavbarComponent_NavbarComponent,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Dashboard,{})]})})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 77)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById(\"root\"));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[69,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\EthanP\\Documents\\cubstart\\tabulate\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\EthanP\\Documents\\cubstart\\tabulate\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\EthanP\\Documents\\cubstart\\tabulate\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\EthanP\\Documents\\cubstart\\tabulate\\src\\index.css","C:\\Users\\EthanP\\Documents\\cubstart\\tabulate\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\EthanP\\Documents\\cubstart\\tabulate\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\EthanP\\Documents\\cubstart\\tabulate\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\EthanP\\Documents\\cubstart\\tabulate\\src\\App.css","C:\\Users\\EthanP\\Documents\\cubstart\\tabulate\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!C:\\Users\\EthanP\\Documents\\cubstart\\tabulate\\src\\logo.svg","C:/Users/EthanP/Documents/cubstart/tabulate/src/scripts/login.js","C:/Users/EthanP/Documents/cubstart/tabulate/src/providers/UserProvider.js","C:/Users/EthanP/Documents/cubstart/tabulate/src/components/NavbarComponent.js","C:/Users/EthanP/Documents/cubstart/tabulate/src/components/WidgetLink.js","C:/Users/EthanP/Documents/cubstart/tabulate/src/components/Widget.js","C:/Users/EthanP/Documents/cubstart/tabulate/src/components/AddWidgetModal.js","C:/Users/EthanP/Documents/cubstart/tabulate/src/components/Dashboard.js","C:/Users/EthanP/Documents/cubstart/tabulate/src/App.js","C:/Users/EthanP/Documents/cubstart/tabulate/src/reportWebVitals.js","C:/Users/EthanP/Documents/cubstart/tabulate/src/index.js"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","console","log","auth","db","firestore","signIn","provider","GoogleAuthProvider","signInWithPopup","then","user","collection","doc","getUserName","get","exists","set","name","widgets","timestamp","FieldValue","serverTimestamp","catch","error","signOut","getProfilePicUrl","currentUser","photoURL","displayName","isUserSignedIn","addWidget","widgetTitle","tempWidgets","data","push","title","links","update","merge","getWidgets","Promise","addLinkToWidget","widgetName","website","url","toEdit","find","obj","map","deleteLink","widget","filter","editLink","linkTitle","newTitle","newURL","i","length","deleteWidget","newState","changeWidgetTitle","newWidgetTitle","checkSignedInWithMessage","resetMaterialTextfield","element","value","parentNode","MaterialTextfield","boundUpdateClassesHandler","checkSetup","window","app","Function","options","alert","UserContext","createContext","props","useState","setuser","useEffect","onAuthStateChanged","email","children","NavbarComponent","useContext","handleSignOut","location","reload","fontSize","WidgetLink","link","removeLink","Widget","openModal","isActive","onClick","removeLinkFromThisWidget","openAllLinks","chrome","tabs","create","changeTitle","event","target","lnk","AddWidgetModal","setWidgetTitle","onHide","onSubmit","e","preventDefault","addWidgetToDashboard","MyVerticallyCenteredModal","setWebsite","setUrl","currWidget","Dashboard","React","modalShow","setModalShow","setCurrWidget","showWidgetModal","setShowWidgetModal","setWidgets","recents","setRecents","userEmail","replace","fetchWidgets","response","w","startsWith","addLinkFirebase","removeLinkFromWidget","deleteLinkFirebase","editLinkFirebase","openWidgetModal","old","addWidgetFirebase","deleteWidgetFirebase","changeWidgetTitleFirebase","App","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","/**\r\n * Copyright 2018 Google Inc. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\"use strict\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAwcnfyJDrxYTVGnbGJ39pwyRPmbbln8jI\",\r\n  authDomain: \"tabulate-da8ac.firebaseapp.com\",\r\n  projectId: \"tabulate-da8ac\",\r\n  storageBucket: \"tabulate-da8ac.appspot.com\",\r\n  messagingSenderId: \"600957298630\",\r\n  appId: \"1:600957298630:web:8dff818513beaf9c9734c7\",\r\n  measurementId: \"G-FRRT9SB5QF\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nconsole.log(firebase);\r\n\r\nexport const auth = firebase.auth();\r\nexport const db = firebase.firestore();\r\n// Signs-in to TabUlate.\r\nexport function signIn() {\r\n  // TODO 1: Sign in Firebase with credential from the Google user.\r\n  // Sign into Firebase using popup auth & Google as the identity provider.\r\n  let provider = new firebase.auth.GoogleAuthProvider();\r\n  firebase\r\n    .auth()\r\n    .signInWithPopup(provider)\r\n    .then(() => {\r\n      let user = firebase.firestore().collection(\"users\").doc(getUserName());\r\n      user.get().then((doc) => {\r\n        if (!doc.exists) {\r\n          user\r\n            .set({\r\n              name: getUserName(),\r\n              widgets: [], // do this at sign-in\r\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n            })\r\n            .catch(function (error) {\r\n              console.error(\"Error writing new message to database\", error);\r\n            });\r\n        }\r\n      });\r\n    })\r\n    .catch(function (error) {\r\n      console.error(\"Error signing in\", error);\r\n    });\r\n}\r\n\r\n// Signs-out of TabUlate.\r\nexport function signOut() {\r\n  firebase.auth().signOut();\r\n}\r\n\r\n// Initiate firebase auth.\r\n// export function initFirebaseAuth() {\r\n//   // TODO 3: Initialize Firebase.\r\n//   firebase.auth().onAuthStateChanged(authStateObserver);\r\n// }\r\n\r\n// Returns the signed-in user's profile Pic URL.\r\nexport function getProfilePicUrl() {\r\n  return (\r\n    firebase.auth().currentUser.photoURL ||\r\n    \"https://lh3.googleusercontent.com/-5NpIVUCd2lE/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmn22K-OnZPInLvX19yR_TVKiUFCA/s96-c/photo.jpg\"\r\n  );\r\n}\r\n\r\n// Returns the signed-in user's display name.\r\nexport function getUserName() {\r\n  return firebase.auth().currentUser.displayName;\r\n}\r\n\r\n// Returns true if a user is signed-in.\r\nexport function isUserSignedIn() {\r\n  return !!firebase.auth().currentUser;\r\n}\r\n\r\nexport function addWidget(widgetTitle) {\r\n  // Add a new message entry to the database.\r\n  let user = firebase.firestore().collection(\"users\").doc(getUserName());\r\n\r\n  if (user) {\r\n    user\r\n      .get()\r\n      .then((doc) => {\r\n        let tempWidgets = doc.data().widgets;\r\n        return tempWidgets;\r\n      })\r\n      .then((tempWidgets) => {\r\n        tempWidgets.push({ title: widgetTitle, links: [] });\r\n\r\n        return user\r\n          .update(\r\n            {\r\n              name: getUserName(),\r\n              widgets: tempWidgets,\r\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n            },\r\n            { merge: true }\r\n          )\r\n          .catch(function (error) {\r\n            console.error(\"Error writing new message to database\", error);\r\n          });\r\n      });\r\n  }\r\n}\r\n\r\n\r\nexport function getWidgets() {\r\n  // returns the current user's widgets\r\n\r\n  return new Promise(() => {\r\n    let user = firebase.firestore().collection(\"users\").doc(getUserName());\r\n    user.get().then((doc) => {\r\n      if (doc.exists) {\r\n        return doc.data().widgets;\r\n      } else {\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nexport function addLinkToWidget(widgetName, website, url) {\r\n  // Add a new message entry to the database.\r\n  let user = firebase.firestore().collection(\"users\").doc(getUserName());\r\n\r\n  let tempWidgets = [\"check this\"];\r\n\r\n  user\r\n    .get()\r\n    .then((doc) => {\r\n      tempWidgets = doc.data().widgets;\r\n      const toEdit = tempWidgets.find((obj) => {\r\n        return obj.title === widgetName;\r\n      });\r\n\r\n      toEdit.links.push({ url: url, name: website });\r\n      tempWidgets.map((obj) => obj);\r\n    })\r\n    .then(() => {\r\n      return user\r\n        .update(\r\n          {\r\n            name: getUserName(),\r\n            //widgets: [{widgetTitle: \"bruh\", links: [{linkName : url}, {}, {}]}],\r\n            widgets: tempWidgets,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n          },\r\n          { merge: true }\r\n        )\r\n        .catch(function (error) {\r\n          console.error(\"Error writing new message to database\", error);\r\n        });\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"Error getting document:\", error);\r\n    });\r\n}\r\n\r\nexport function deleteLink(widgetName, url) {\r\n  let user = firebase.firestore().collection(\"users\").doc(getUserName());\r\n\r\n  user\r\n    .get()\r\n    .then((doc) => {\r\n      if (doc.exists) {\r\n        return doc.data().widgets;\r\n      } else {\r\n      }\r\n    })\r\n    .then((widgets) => {\r\n      let widget = widgets.find((obj) => {\r\n        return obj.title == widgetName;\r\n      });\r\n      widget.links = widget.links.filter((obj) => {\r\n        return obj.url !== url;\r\n      });\r\n\r\n      user\r\n        .update(\r\n          {\r\n            name: getUserName(),\r\n            widgets: widgets,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n          },\r\n          { merge: true }\r\n        )\r\n        .catch(function (error) {\r\n          console.error(\"Error writing new message to database\", error);\r\n        });\r\n    });\r\n}\r\n\r\nexport function editLink(widgetName, linkTitle, newTitle, newURL) {\r\n  let user = firebase.firestore().collection(\"users\").doc(getUserName());\r\n  user.get().then((doc) => {\r\n    if (doc.exists) {\r\n      return doc.data().widgets;\r\n    }\r\n  }).then((widgets) => {\r\n    let widget = widgets.find((obj) => {\r\n      return obj.title == widgetName;\r\n    });\r\n    for (let i = 0; i < widget.links.length; i++) {\r\n      if (widget.links[i].name === linkTitle) {\r\n        widget.links[i].name = newTitle;\r\n        widget.links[i].url = newURL;\r\n      }\r\n    }\r\n    user\r\n        .update(\r\n          {\r\n            name: getUserName(),\r\n            widgets: widgets,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n          },\r\n          { merge: true }\r\n        )\r\n        .catch(function (error) {\r\n          console.error(\"Error writing new message to database\", error);\r\n        });\r\n  });\r\n}\r\n\r\nexport function deleteWidget(widgetName) {\r\n  let user = firebase.firestore().collection(\"users\").doc(getUserName());\r\n\r\n  user\r\n    .get()\r\n    .then((doc) => {\r\n      if (doc.exists) {\r\n        return doc.data().widgets;\r\n      } else {\r\n      }\r\n    })\r\n    .then((widgets) => {\r\n      const newState = widgets.filter((obj) => {\r\n        return obj.title !== widgetName;\r\n      });\r\n\r\n      user\r\n        .update(\r\n          {\r\n            name: getUserName(),\r\n            widgets: newState,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n          },\r\n          { merge: true }\r\n        )\r\n        .catch(function (error) {\r\n          console.error(\"Error writing new message to database\", error);\r\n        });\r\n    });\r\n}\r\n\r\nexport function changeWidgetTitle(widgetName, newWidgetTitle) {\r\n  let user = firebase.firestore().collection(\"users\").doc(getUserName());\r\n  user\r\n    .get()\r\n    .then((doc) => {\r\n      if (doc.exists) {\r\n        return doc.data().widgets;\r\n      }\r\n    })\r\n    .then((widgets) => {\r\n      const widget = widgets.find((obj) => {\r\n        return obj.title === widgetName;\r\n      });\r\n      widget.title = newWidgetTitle;\r\n      console.log(\"title:\", widget.title)\r\n      user\r\n        .update(\r\n          {\r\n            name: getUserName(),\r\n            widgets: widgets,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n          },\r\n          { merge: true }\r\n        )\r\n        .catch(function (error) {\r\n          console.error(\"Error writing new message to database\", error);\r\n        });\r\n    });\r\n}\r\n\r\n// Loads chat messages history and listens for upcoming ones.\r\n\r\n// Returns true if user is signed-in. Otherwise false and displays a message.\r\nexport function checkSignedInWithMessage() {\r\n  // Return true if the user is signed in Firebase\r\n  if (isUserSignedIn()) {\r\n    return true;\r\n  }\r\n}\r\n// Resets the given MaterialTextField.\r\nexport function resetMaterialTextfield(element) {\r\n  element.value = \"\";\r\n  element.parentNode.MaterialTextfield.boundUpdateClassesHandler();\r\n}\r\n\r\n// Checks that the Firebase SDK has been correctly setup and configured.\r\nexport function checkSetup() {\r\n  if (\r\n    !window.firebase ||\r\n    !(firebase.app instanceof Function) ||\r\n    !firebase.app().options\r\n  ) {\r\n    window.alert(\r\n      \"You have not configured and imported the Firebase SDK. \" +\r\n        \"Make sure you go through the codelab setup instructions and make \" +\r\n        \"sure you are running the codelab using `firebase serve`\"\r\n    );\r\n  }\r\n}\r\ncheckSetup();\r\n\r\n// initialize Firebase\r\n// initFirebaseAuth();\r\n\r\n// TODO: Enable Firebase Performance Monitoring.\r\n\r\n// We load currently existing chat messages and listen to new ones.\r\n\r\n","import React, {useState, useEffect, createContext} from \"react\";\r\n\r\nimport { auth } from \"../scripts/login\"\r\n\r\nexport const UserContext = createContext({ user: null })\r\n\r\nexport default (props) => {\r\n  const [user, setuser] = useState(null)\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(async (user) => {\r\n        if (user) {\r\n            const { displayName, email }  = user;\r\n            setuser(user)\r\n          }\r\n        })\r\n        console.log(\"userprovider\", user)\r\n  },[])\r\n\r\n  return (\r\n    <UserContext.Provider value={user}>{props.children}</UserContext.Provider>\r\n  )\r\n}","import React, { useContext } from \"react\";\r\nimport { Navbar, Nav, Button, Image } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { signIn, signOut, getProfilePicUrl } from \"../scripts/login.js\";\r\nimport { UserContext } from \"../providers/UserProvider\";\r\n\r\nexport const NavbarComponent = () => {\r\n  const user = useContext(UserContext);\r\n  // console.log(\"navbar:\", user);\r\n\r\n  const handleSignOut = async () => {\r\n    await signOut();\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <Navbar bg=\"light\" expand=\"lg\">\r\n      <Navbar.Brand href=\"#home\" style={{ fontSize: 40 }}>\r\n        Tabulate\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        {/* <Nav className=\"mr-auto\">\r\n                    <Nav.Link><Link to=\"/\">dashboard</Link></Nav.Link>\r\n                    <Nav.Link><Link to=\"/analytics\">analytics</Link></Nav.Link>\r\n                    <Nav.Link><Link to=\"/settings\">settings</Link></Nav.Link>\r\n                </Nav> */}\r\n      </Navbar.Collapse>\r\n      {user ? (\r\n        <>\r\n          <Image\r\n            className={\"mr-2\"}\r\n            src={getProfilePicUrl()}\r\n            roundedCircle\r\n            height={40}\r\n          />\r\n          <Button onClick={handleSignOut}>Sign out</Button>\r\n        </>\r\n      ) : (\r\n        <Button onClick={signIn}>Sign in</Button>\r\n      )}\r\n    </Navbar>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nconst WidgetLink = ({ link, removeLink }) => {\r\n  return (\r\n    <>\r\n      <div class=\"widget-link\">\r\n        <a href={link.url} target=\"_blank\" className=\"classes-link\">\r\n          {link.name}\r\n        </a>\r\n        <button\r\n          onClick={() => removeLink(link.url)}\r\n          type=\"button\"\r\n          class=\"btn btn-dark btn-sm delete-button\"\r\n        >\r\n          delete\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WidgetLink;\r\n","/*global chrome*/\r\nimport React from 'react';\r\n\r\nimport WidgetLink from \"./WidgetLink\";\r\n\r\nconst Widget = ({ title, links, openModal, removeLink, deleteWidget, isActive, onClick, changeWidgetTitle }) => {\r\n  const removeLinkFromThisWidget = (url) => {\r\n    removeLink(title, url);\r\n  };\r\n  const openAllLinks = async () => {\r\n    for (let i=0; i < links.length; i++) {\r\n        //window.open(links[i].url, \"_blank\")\r\n        await chrome.tabs.create({ url: links[i].url })\r\n    }\r\n  };\r\n\r\n  const changeTitle = (event) => {\r\n    const newTitle = event.target.value;\r\n    // setWidgetTitle(newTitle);\r\n    console.log(\"newTitle:\", newTitle)\r\n    changeWidgetTitle(title, newTitle);\r\n  }\r\n\r\n  return (\r\n    <div className=\"widget\" id={isActive ? \"active-widget\" : \"not-active\"} onClick={onClick}>\r\n      <div className=\"widget-header\">\r\n        {/* <div className=\"widget-title\">{title}</div> */}\r\n\r\n        {/* <span class=\"input\" role=\"textbox\" contenteditable>{title}</span> */}\r\n\r\n        <input className=\"widget-title2\" type=\"text\" value={title}\r\n              onChange={changeTitle}\r\n        />\r\n        \r\n        <div className=\"widget-control\">\r\n          <button\r\n            class=\"btn btn-dark btn-sm action-button\"\r\n            onClick={() => deleteWidget(title)}\r\n          >\r\n            delete widget\r\n          </button>\r\n          <button\r\n            class=\"btn btn-secondary btn-sm action-button\"\r\n            onClick={openAllLinks}\r\n          >\r\n            open all\r\n          </button>\r\n          <button\r\n            class=\"btn btn-success btn-sm action-button\"\r\n            onClick={() => openModal(title)}\r\n          >\r\n            new link\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"widget-grid\">\r\n        {links.map((lnk) => (\r\n          <WidgetLink link={lnk} removeLink={removeLinkFromThisWidget} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Widget;\r\n","import React, { useState } from 'react';\r\nimport { Modal, Button, Form } from 'react-bootstrap';\r\n\r\nconst AddWidgetModal = (props) => {\r\n    const [widgetTitle, setWidgetTitle] = useState('');\r\n\r\n    const onHide = () => { \r\n        props.onHide();\r\n        setWidgetTitle('');\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        onHide();\r\n        props.addWidgetToDashboard(widgetTitle)\r\n    }\r\n    \r\n\r\n    return (\r\n      <Modal\r\n        {...props}\r\n        onHide={onHide}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            Add Widget\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Form onSubmit={onSubmit}>\r\n                <Form.Group controlId=\"websiteName\">\r\n                    <Form.Label>Title</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"\" value={widgetTitle} onChange={(e) => setWidgetTitle(e.target.value)}/>\r\n                </Form.Group>\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    Submit\r\n                </Button>\r\n            </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button onClick={onHide}>Close</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n}\r\n\r\nexport default AddWidgetModal\r\n","/*global chrome*/\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport { Modal, Button, Form } from \"react-bootstrap\";\r\n\r\nimport Widget from \"./Widget\";\r\nimport AddWidgetModal from \"./AddWidgetModal\";\r\nimport {\r\n  addWidget as addWidgetFirebase,\r\n  deleteWidget as deleteWidgetFirebase,\r\n  getWidgets as getWidgetsFirebase,\r\n  addLinkToWidget as addLinkFirebase,\r\n  editLink as editLinkFirebase,\r\n  changeWidgetTitle as changeWidgetTitleFirebase,\r\n  deleteLink as deleteLinkFirebase,\r\n  db,\r\n} from \"../scripts/login.js\";\r\nimport { UserContext } from \"../providers/UserProvider\";\r\n\r\nfunction MyVerticallyCenteredModal(props) {\r\n  const [website, setWebsite] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n\r\n  const onHide = () => {\r\n    props.onHide();\r\n    setWebsite(\"\");\r\n    setUrl(\"\");\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log(website, url, props.currWidget);\r\n    onHide();\r\n    props.addLinkToWidget(website, url, props.currWidget);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      {...props}\r\n      onHide={onHide}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Add to {props.currWidget}\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form onSubmit={onSubmit}>\r\n          <Form.Group controlId=\"websiteName\">\r\n            <Form.Label>Website name</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              value={website}\r\n              onChange={(e) => setWebsite(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"url\">\r\n            <Form.Label>URL</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              value={url}\r\n              onChange={(e) => setUrl(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            Save\r\n          </Button>\r\n        </Form>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nconst Dashboard = () => {\r\n  const user = useContext(UserContext);\r\n  const [modalShow, setModalShow] = React.useState(false);\r\n  const [currWidget, setCurrWidget] = React.useState(\"\");\r\n  const [showWidgetModal, setShowWidgetModal] = useState(false);\r\n  const [widgets, setWidgets] = React.useState([]);\r\n  const [recents, setRecents] = useState([]);\r\n\r\n  // const [widgets, setWidgets] = React.useState([\r\n  //   {\r\n  //     title: \"Classes\",\r\n  //     links: [\r\n  //       { url: \"sp21.datastructur.es\", name: \"CS61B\" },\r\n  //       {\r\n  //         url:\r\n  //           \"https://www.notion.so/Cubstart-Intro-to-Building-Apps-d42282d66dd942c399b6ce87167889d6\",\r\n  //         name: \"Cubstart\",\r\n  //       },\r\n  //       { url: \"https://www.eecs70.org/\", name: \"CS70\" },\r\n  //     ],\r\n  //   },\r\n  //   {\r\n  //     title: \"Favorites\",\r\n  //     links: [\r\n  //       { url: \"sp21.datastructur.es\", name: \"weird link\" },\r\n  //       {\r\n  //         url:\r\n  //           \"https://www.notion.so/Cubstart-Intro-to-Building-Apps-d42282d66dd942c399b6ce87167889d6\",\r\n  //         name: \"Cubstart\",\r\n  //       },\r\n  //       { url: \"https://www.eecs70.org/\", name: \"CS70\" },\r\n  //     ],\r\n  //   },\r\n  // ]);\r\n  // const [recents, setRecents] = useState([\r\n  //   {\r\n  //     title: \"Youtube\",\r\n  //     url: \"https://www.youtube.com\",\r\n  //   },\r\n  //   {\r\n  //     title:\r\n  //       \"Netflix test test test test test test test test test test test test test test test test test test test test test test test test test test\",\r\n  //     url: \"https://www.netflix.com\",\r\n  //   },\r\n  //   {\r\n  //     title: \"Google\",\r\n  //     url: \"https://www.google.com\",\r\n  //   },\r\n  // ]);\r\n\r\n  //UNCOMMENT FOR CHROME EXTENSION\r\n  // useEffect(() => {\r\n  //   chrome.history.search({ text: \"\", maxResults: 20 }, function (data) {\r\n  //     const updated = [];\r\n  //     data.forEach(function (page) {\r\n  //       if (page.title && !updated.includes(page.title)) {\r\n  //         updated.push({ title: page.title, url: page.url });\r\n  //       }\r\n  //     });\r\n  //     setRecents(updated);\r\n  //   });\r\n  // }, []);\r\n\r\n  const userEmail = user?.email?.replace(\"@\", \"%40\"); //\"charlesming2002%40gmail.com\"\r\n\r\n  const fetchWidgets = async (user) => {\r\n    const response = db.collection(\"users\").doc(user.displayName);\r\n    const data = await response.get();\r\n    const w = await data.data().widgets;\r\n    setWidgets(w);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchWidgets(user);\r\n    }\r\n  }, [user]);\r\n\r\n  const addLinkToWidget = (website, url, widgetName) => {\r\n    const toEdit = widgets.find((obj) => {\r\n      return obj.title === widgetName;\r\n    });\r\n    console.log(\"159\", widgets, toEdit);\r\n    if (!url.startsWith(\"https://\")) {\r\n      url = \"https://\" + url;\r\n    }\r\n    toEdit.links.push({ url: url, name: website });\r\n    const newState = widgets.map((obj) => obj);\r\n    setWidgets(newState);\r\n    addLinkFirebase(widgetName, website, url); //sync firebase\r\n  };\r\n\r\n  const removeLinkFromWidget = (widgetName, url) => {\r\n    const widget = widgets.find((obj) => {\r\n      return obj.title === widgetName;\r\n    });\r\n    widget.links = widget.links.filter((obj) => {\r\n      return obj.url !== url;\r\n    });\r\n    const newState = widgets.map((obj) => obj);\r\n    setWidgets(newState);\r\n    deleteLinkFirebase(widgetName, url); //sync firebase\r\n  };\r\n\r\n  const editLink = (widgetName, linkTitle, newTitle, newURL) => {\r\n    const widget = widgets.find((obj) => {\r\n      return obj.title === widgetName;\r\n    });\r\n    for (let i = 0; i < widget.links.length; i++) {\r\n      if (widget.links[i].name === linkTitle) {\r\n        widget.links[i].name = newTitle;\r\n        widget.links[i].url = newURL;\r\n      }\r\n    }\r\n    const newState = widgets.map((obj) => obj);\r\n    setWidgets(newState);\r\n    editLinkFirebase(widgetName, linkTitle, newTitle, newURL);\r\n  }\r\n\r\n  const openModal = (widgetName) => {\r\n    setModalShow(true);\r\n    setCurrWidget(widgetName); //sync firebase\r\n  };\r\n\r\n  const openWidgetModal = () => {\r\n    setShowWidgetModal(true);\r\n  };\r\n\r\n  const addWidgetToDashboard = (title) => {\r\n    const old = widgets.map((obj) => obj);\r\n    old.push({ title: title, links: [] });\r\n    setWidgets(old);\r\n    addWidgetFirebase(title); //sync firebase\r\n  };\r\n\r\n  const deleteWidget = (widgetName) => {\r\n    const newState = widgets.filter((obj) => {\r\n      return obj.title !== widgetName;\r\n    });\r\n    setWidgets(newState);\r\n    deleteWidgetFirebase(widgetName);\r\n  };\r\n\r\n  const changeWidgetTitle = (widgetName, newWidgetTitle) => {\r\n    const widget = widgets.find((obj) => {\r\n      return obj.title === widgetName;\r\n    });\r\n    widget.title = newWidgetTitle;\r\n    const newState = widgets.map((obj) => obj);\r\n    setWidgets(newState);\r\n    changeWidgetTitleFirebase(widgetName, newWidgetTitle);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {user ? (\r\n        <>\r\n          <div className=\"dashboard-grid\">\r\n            {widgets.map((widget) => (\r\n              <Widget\r\n                title={widget.title}\r\n                links={widget.links}\r\n                openModal={openModal}\r\n                removeLink={removeLinkFromWidget}\r\n                deleteWidget={deleteWidget}\r\n                changeWidgetTitle={changeWidgetTitle}\r\n                isActive={currWidget === widget.title}\r\n                onClick={() => {\r\n                  setCurrWidget(widget.title);\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n          {/* <div className=\"dashboard-grid2\">\r\n            <div className=\"widget2\">\r\n              <div className=\"widget-header\">\r\n                <div className=\"widget-title\">Recents</div>\r\n                <div className=\"widget-control\">\r\n                  <button\r\n                    class=\"btn btn-secondary btn-sm action-button\"\r\n                    onClick={() => {\r\n                      chrome.history.search(\r\n                        { text: \"\", maxResults: 20 },\r\n                        function (data) {\r\n                          const updated = [];\r\n                          data.forEach(function (page) {\r\n                            if (page.title) {\r\n                              updated.push({\r\n                                title: page.title,\r\n                                url: page.url,\r\n                              });\r\n                            }\r\n                          });\r\n                          setRecents(updated);\r\n                        }\r\n                      );\r\n                    }}\r\n                  >\r\n                    refresh\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"widget-grid\" id=\"recents\">\r\n                {recents.map((recent) => (\r\n                  <div className=\"widget-link\">\r\n                    <a\r\n                      href={recent.url}\r\n                      target=\"_blank\"\r\n                      className=\"classes-link\"\r\n                    >\r\n                      {recent.title}\r\n                    </a>\r\n                    {currWidget ? (\r\n                      <button\r\n                        class=\"btn btn-success btn-xs\"\r\n                        onClick={() => {\r\n                          if (currWidget) {\r\n                            addLinkToWidget(\r\n                              recent.title,\r\n                              recent.url,\r\n                              currWidget\r\n                            );\r\n                          }\r\n                        }}\r\n                      >\r\n                        +\r\n                      </button>\r\n                    ) : null}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            <div className=\"widget2\">\r\n              <div className=\"widget-header\">\r\n                <div className=\"widget-title\">Calendar</div>\r\n              </div>\r\n              <iframe\r\n                src={\r\n                  \"https://www.google.com/calendar/embed?src=\" +\r\n                  userEmail +\r\n                  \"&ctz=America%2FLos_Angeles\"\r\n                }\r\n                title=\"calendar\"\r\n                width=\"600\"\r\n                height=\"400\"\r\n                frameborder=\"0\"\r\n                scrolling=\"no\"\r\n              />\r\n            </div>\r\n          </div> */}\r\n          <div class=\"addWidgetContainer\">\r\n            <button\r\n              class=\"addWidgetButton\"\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n              onClick={() => openWidgetModal()}\r\n            >\r\n              Add widget\r\n            </button>\r\n          </div>\r\n          <MyVerticallyCenteredModal\r\n            show={modalShow}\r\n            onHide={() => setModalShow(false)}\r\n            currWidget={currWidget}\r\n            addLinkToWidget={addLinkToWidget}\r\n          />\r\n          <AddWidgetModal\r\n            show={showWidgetModal}\r\n            onHide={() => setShowWidgetModal(false)}\r\n            addWidgetToDashboard={addWidgetToDashboard}\r\n          />\r\n        </>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","    /*global chrome*/\r\nimport React, { useEffect, useState } from \"react\";\r\nimport logo from './logo.svg';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\n\r\nimport './App.css';\r\nimport { NavbarComponent } from \"./components/NavbarComponent\";\r\nimport { signIn, getWidgets as getWidgetsFirebase } from \"./scripts/login.js\";\r\nimport Dashboard from \"./components/Dashboard\";\r\nimport UserProvider from \"./providers/UserProvider\";\r\n\r\nfunction App() {\r\n  return (\r\n    <UserProvider>\r\n      <Router>\r\n        <div>\r\n          <NavbarComponent/>\r\n          <Dashboard/>\r\n          {/* <Switch>\r\n              <Route path=\"/analytics\">\r\n                <h1>Analytics</h1>\r\n              </Route>\r\n              <Route path=\"/settings\">\r\n                <h1>Settings</h1>\r\n              </Route>\r\n              <Route path=\"/\">\r\n                <Dashboard/>\r\n              </Route>\r\n            </Switch> */}\r\n        </div>\r\n      </Router>\r\n    </UserProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport \"typeface-open-sans\";\r\nimport \"typeface-open-sans-condensed\";\r\n\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"]}}