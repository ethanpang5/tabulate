{"ast":null,"code":"import _objectSpread from\"C:/Users/EthanP/Documents/cubstart/tabulate/tab-ulate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/EthanP/Documents/cubstart/tabulate/tab-ulate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import{Modal,Button,Form}from'react-bootstrap';import Widget from'./Widget';import AddWidgetModal from'./AddWidgetModal';import{bruh,addWidget,addLinkToWidget as addLink}from\"../scripts/login.js\";import{UserContext}from\"../providers/UserProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MyVerticallyCenteredModal(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),website=_useState2[0],setWebsite=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),url=_useState4[0],setUrl=_useState4[1];var onHide=function onHide(){props.onHide();setWebsite('');setUrl('');};var onSubmit=function onSubmit(e){e.preventDefault();console.log(website,url,props.currWidget);onHide();props.addLinkToWidget(website,url,props.currWidget);};return/*#__PURE__*/_jsxs(Modal,_objectSpread(_objectSpread({},props),{},{onHide:onHide,size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{id:\"contained-modal-title-vcenter\",children:\"Modal heading\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Add Website\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"websiteName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Website name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"\",value:website,onChange:function onChange(e){return setWebsite(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"url\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"URL\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"\",value:url,onChange:function onChange(e){return setUrl(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})]}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{onClick:onHide,children:\"Close\"})})]}));}var Dashboard=function Dashboard(){var _user$email;var user=useContext(UserContext);var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),modalShow=_React$useState2[0],setModalShow=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),currWidget=_React$useState4[0],setCurrWidget=_React$useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showWidgetModal=_useState6[0],setShowWidgetModal=_useState6[1];var _React$useState5=React.useState([{title:\"Classes\",links:[{url:'sp21.datastructur.es',name:'CS61B'},{url:'https://www.notion.so/Cubstart-Intro-to-Building-Apps-d42282d66dd942c399b6ce87167889d6',name:'Cubstart'},{url:'https://www.eecs70.org/',name:'CS70'}]},{title:\"Favorites\",links:[{url:'sp21.datastructur.es',name:'weird link'},{url:'https://www.notion.so/Cubstart-Intro-to-Building-Apps-d42282d66dd942c399b6ce87167889d6',name:'Cubstart'},{url:'https://www.eecs70.org/',name:'CS70'}]}]),_React$useState6=_slicedToArray(_React$useState5,2),widgets=_React$useState6[0],setWidgets=_React$useState6[1];var _useState7=useState([{title:'Youtube',url:'https://www.youtube.com'},{title:'Netflix',url:'https://www.netflix.com'},{title:'Google',url:'https://www.google.com'}]),_useState8=_slicedToArray(_useState7,2),recents=_useState8[0],setRecents=_useState8[1];useEffect(function(){bruh();},[]);var userEmail=user===null||user===void 0?void 0:(_user$email=user.email)===null||_user$email===void 0?void 0:_user$email.replace('@','%40');//\"charlesming2002%40gmail.com\"\nvar addLinkToWidget=function addLinkToWidget(website,url,widgetName){var toEdit=widgets.find(function(obj){return obj.title===widgetName;});toEdit.links.push({url:url,name:website});var newState=widgets.map(function(obj){return obj;});setWidgets(newState);addLink(widgetName,website,url);//sync firebase\n};var removeLinkFromWidget=function removeLinkFromWidget(widgetName,url){var widget=widgets.find(function(obj){return obj.title===widgetName;});widget.links=widget.links.filter(function(obj){return obj.url!==url;});var newState=widgets.map(function(obj){return obj;});setWidgets(newState);};var openModal=function openModal(widgetName){setModalShow(true);setCurrWidget(widgetName);};var openWidgetModal=function openWidgetModal(){setShowWidgetModal(true);};var addWidgetToDashboard=function addWidgetToDashboard(title){var old=widgets.map(function(obj){return obj;});old.push({title:title,links:[]});setWidgets(old);addWidget(title);//sync firebase\n};var deleteWidget=function deleteWidget(widgetName){console.log('delete');var newState=widgets.filter(function(obj){return obj.title!==widgetName;});setWidgets(newState);};return/*#__PURE__*/_jsx(_Fragment,{children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-grid\",children:[widgets.map(function(widget){return/*#__PURE__*/_jsx(Widget,{title:widget.title,links:widget.links,openModal:openModal,removeLink:removeLinkFromWidget,deleteWidget:deleteWidget});}),/*#__PURE__*/_jsxs(\"div\",{className:\"widget\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"widget-header\",children:/*#__PURE__*/_jsx(\"a\",{className:\"widget-title\",children:\"Recents\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"widget-grid\",id:\"recents\",children:recents.map(function(recent){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"a\",{href:recent.url,target:\"_blank\",className:\"classes-link\",children:recent.title})});})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"widget\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"widget-header\",children:/*#__PURE__*/_jsx(\"a\",{className:\"widget-title\",children:\"Calendar\"})}),/*#__PURE__*/_jsx(\"iframe\",{src:\"https://www.google.com/calendar/embed?src=\"+userEmail+\"&ctz=America%2FLos_Angeles\",title:\"calendar\",width:\"100%\",height:\"400\",frameborder:\"0\",scrolling:\"no\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-primary\",onClick:function onClick(){return openWidgetModal();},children:\"Add widget\"}),/*#__PURE__*/_jsx(MyVerticallyCenteredModal,{show:modalShow,onHide:function onHide(){return setModalShow(false);},currWidget:currWidget,addLinkToWidget:addLinkToWidget}),/*#__PURE__*/_jsx(AddWidgetModal,{show:showWidgetModal,onHide:function onHide(){return setShowWidgetModal(false);},addWidgetToDashboard:addWidgetToDashboard})]}):/*#__PURE__*/_jsx(\"h1\",{children:\"Please Sign in\"})});};export default Dashboard;","map":{"version":3,"sources":["C:/Users/EthanP/Documents/cubstart/tabulate/tab-ulate/src/components/Dashboard.js"],"names":["React","useState","useEffect","useContext","Modal","Button","Form","Widget","AddWidgetModal","bruh","addWidget","addLinkToWidget","addLink","UserContext","MyVerticallyCenteredModal","props","website","setWebsite","url","setUrl","onHide","onSubmit","e","preventDefault","console","log","currWidget","target","value","Dashboard","user","modalShow","setModalShow","setCurrWidget","showWidgetModal","setShowWidgetModal","title","links","name","widgets","setWidgets","recents","setRecents","userEmail","email","replace","widgetName","toEdit","find","obj","push","newState","map","removeLinkFromWidget","widget","filter","openModal","openWidgetModal","addWidgetToDashboard","old","deleteWidget","recent"],"mappings":"uVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,OAASC,KAAT,CAAgBC,MAAhB,CAAwBC,IAAxB,KAAoC,iBAApC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,OAASC,IAAT,CAAeC,SAAf,CAA0BC,eAAe,GAAIC,CAAAA,OAA7C,KAA4D,qBAA5D,CACA,OAASC,WAAT,KAA4B,2BAA5B,C,6IAGA,QAASC,CAAAA,yBAAT,CAAmCC,KAAnC,CAA0C,eACRd,QAAQ,CAAC,EAAD,CADA,wCAC/Be,OAD+B,eACtBC,UADsB,8BAEhBhB,QAAQ,CAAC,EAAD,CAFQ,yCAE/BiB,GAF+B,eAE1BC,MAF0B,eAItC,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjBL,KAAK,CAACK,MAAN,GACAH,UAAU,CAAC,EAAD,CAAV,CACAE,MAAM,CAAC,EAAD,CAAN,CACH,CAJD,CAMA,GAAME,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACpBA,CAAC,CAACC,cAAF,GACAC,OAAO,CAACC,GAAR,CAAYT,OAAZ,CAAqBE,GAArB,CAA0BH,KAAK,CAACW,UAAhC,EACAN,MAAM,GACNL,KAAK,CAACJ,eAAN,CAAsBK,OAAtB,CAA+BE,GAA/B,CAAoCH,KAAK,CAACW,UAA1C,EACH,CALD,CASA,mBACE,MAAC,KAAD,gCACMX,KADN,MAEE,MAAM,CAAEK,MAFV,CAGE,IAAI,CAAC,IAHP,CAIE,kBAAgB,+BAJlB,CAKE,QAAQ,KALV,wBAOE,KAAC,KAAD,CAAO,MAAP,EAAc,WAAW,KAAzB,uBACE,KAAC,KAAD,CAAO,KAAP,EAAa,EAAE,CAAC,+BAAhB,2BADF,EAPF,cAYE,MAAC,KAAD,CAAO,IAAP,yBACI,mCADJ,cAEI,MAAC,IAAD,EAAM,QAAQ,CAAEC,QAAhB,wBACI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,aAAtB,wBACI,KAAC,IAAD,CAAM,KAAN,2BADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,MAAnB,CAA0B,WAAW,CAAC,EAAtC,CAAyC,KAAK,CAAEL,OAAhD,CAAyD,QAAQ,CAAE,kBAACM,CAAD,QAAOL,CAAAA,UAAU,CAACK,CAAC,CAACK,MAAF,CAASC,KAAV,CAAjB,EAAnE,EAFJ,GADJ,cAMI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,KAAtB,wBACI,KAAC,IAAD,CAAM,KAAN,kBADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,MAAnB,CAA0B,WAAW,CAAC,EAAtC,CAAyC,KAAK,CAAEV,GAAhD,CAAqD,QAAQ,CAAE,kBAACI,CAAD,QAAOH,CAAAA,MAAM,CAACG,CAAC,CAACK,MAAF,CAASC,KAAV,CAAb,EAA/D,EAFJ,GANJ,cAUI,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,oBAVJ,GAFJ,GAZF,cA6BE,KAAC,KAAD,CAAO,MAAP,wBACE,KAAC,MAAD,EAAQ,OAAO,CAAER,MAAjB,mBADF,EA7BF,IADF,CAmCD,CAGH,GAAMS,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,iBACpB,GAAMC,CAAAA,IAAI,CAAG3B,UAAU,CAACU,WAAD,CAAvB,CADoB,oBAEcb,KAAK,CAACC,QAAN,CAAe,KAAf,CAFd,oDAEb8B,SAFa,qBAEFC,YAFE,0CAGgBhC,KAAK,CAACC,QAAN,CAAe,EAAf,CAHhB,qDAGbyB,UAHa,qBAGDO,aAHC,oCAI0BhC,QAAQ,CAAC,KAAD,CAJlC,yCAIbiC,eAJa,eAIIC,kBAJJ,oCAKUnC,KAAK,CAACC,QAAN,CAAe,CACzC,CACImC,KAAK,CAAC,SADV,CAEIC,KAAK,CAAE,CACH,CAACnB,GAAG,CAAE,sBAAN,CAA8BoB,IAAI,CAAE,OAApC,CADG,CAEH,CAACpB,GAAG,CAAE,wFAAN,CAAgGoB,IAAI,CAAE,UAAtG,CAFG,CAGH,CAACpB,GAAG,CAAE,yBAAN,CAAiCoB,IAAI,CAAE,MAAvC,CAHG,CAFX,CADyC,CASzC,CACIF,KAAK,CAAC,WADV,CAEIC,KAAK,CAAE,CACH,CAACnB,GAAG,CAAE,sBAAN,CAA8BoB,IAAI,CAAE,YAApC,CADG,CAEH,CAACpB,GAAG,CAAE,wFAAN,CAAgGoB,IAAI,CAAE,UAAtG,CAFG,CAGH,CAACpB,GAAG,CAAE,yBAAN,CAAiCoB,IAAI,CAAE,MAAvC,CAHG,CAFX,CATyC,CAAf,CALV,qDAKbC,OALa,qBAKJC,UALI,oCAuBUvC,QAAQ,CAAC,CACnC,CACImC,KAAK,CAAE,SADX,CAEIlB,GAAG,CAAE,yBAFT,CADmC,CAKnC,CACIkB,KAAK,CAAE,SADX,CAEIlB,GAAG,CAAE,yBAFT,CALmC,CASnC,CACIkB,KAAK,CAAE,QADX,CAEIlB,GAAG,CAAE,wBAFT,CATmC,CAAD,CAvBlB,yCAuBbuB,OAvBa,eAuBJC,UAvBI,eAsCpBxC,SAAS,CAAE,UAAM,CACbO,IAAI,GACP,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMkC,CAAAA,SAAS,CAAGb,IAAH,SAAGA,IAAH,8BAAGA,IAAI,CAAEc,KAAT,sCAAG,YAAaC,OAAb,CAAqB,GAArB,CAA0B,KAA1B,CAAlB,CAAmD;AAEnD,GAAMlC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACK,OAAD,CAAUE,GAAV,CAAe4B,UAAf,CAA8B,CAClD,GAAMC,CAAAA,MAAM,CAAGR,OAAO,CAACS,IAAR,CAAa,SAAAC,GAAG,CAAI,CAC/B,MAAOA,CAAAA,GAAG,CAACb,KAAJ,GAAcU,UAArB,CACH,CAFc,CAAf,CAGAC,MAAM,CAACV,KAAP,CAAaa,IAAb,CAAkB,CAAChC,GAAG,CAAEA,GAAN,CAAWoB,IAAI,CAAEtB,OAAjB,CAAlB,EACA,GAAMmC,CAAAA,QAAQ,CAAGZ,OAAO,CAACa,GAAR,CAAY,SAACH,GAAD,QAASA,CAAAA,GAAT,EAAZ,CAAjB,CACAT,UAAU,CAACW,QAAD,CAAV,CACAvC,OAAO,CAACkC,UAAD,CAAa9B,OAAb,CAAsBE,GAAtB,CAAP,CAAkC;AACrC,CARD,CAUA,GAAMmC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACP,UAAD,CAAa5B,GAAb,CAAqB,CAC9C,GAAMoC,CAAAA,MAAM,CAAGf,OAAO,CAACS,IAAR,CAAa,SAAAC,GAAG,CAAI,CAC/B,MAAOA,CAAAA,GAAG,CAACb,KAAJ,GAAcU,UAArB,CACH,CAFc,CAAf,CAGAQ,MAAM,CAACjB,KAAP,CAAeiB,MAAM,CAACjB,KAAP,CAAakB,MAAb,CAAoB,SAACN,GAAD,CAAS,CACxC,MAAOA,CAAAA,GAAG,CAAC/B,GAAJ,GAAYA,GAAnB,CACH,CAFc,CAAf,CAGA,GAAMiC,CAAAA,QAAQ,CAAGZ,OAAO,CAACa,GAAR,CAAY,SAACH,GAAD,QAASA,CAAAA,GAAT,EAAZ,CAAjB,CACAT,UAAU,CAACW,QAAD,CAAV,CACH,CATD,CAWA,GAAMK,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACV,UAAD,CAAgB,CAC9Bd,YAAY,CAAC,IAAD,CAAZ,CACAC,aAAa,CAACa,UAAD,CAAb,CACH,CAHD,CAKA,GAAMW,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1BtB,kBAAkB,CAAC,IAAD,CAAlB,CACH,CAFD,CAIA,GAAMuB,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACtB,KAAD,CAAW,CACpC,GAAMuB,CAAAA,GAAG,CAAGpB,OAAO,CAACa,GAAR,CAAY,SAACH,GAAD,QAASA,CAAAA,GAAT,EAAZ,CAAZ,CACAU,GAAG,CAACT,IAAJ,CAAS,CAACd,KAAK,CAAEA,KAAR,CAAeC,KAAK,CAAE,EAAtB,CAAT,EACAG,UAAU,CAACmB,GAAD,CAAV,CACAjD,SAAS,CAAC0B,KAAD,CAAT,CAAiB;AACpB,CALD,CAOA,GAAMwB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACd,UAAD,CAAgB,CACjCtB,OAAO,CAACC,GAAR,CAAY,QAAZ,EACA,GAAM0B,CAAAA,QAAQ,CAAGZ,OAAO,CAACgB,MAAR,CAAe,SAACN,GAAD,CAAS,CACrC,MAAOA,CAAAA,GAAG,CAACb,KAAJ,GAAcU,UAArB,CACH,CAFgB,CAAjB,CAGAN,UAAU,CAACW,QAAD,CAAV,CACH,CAND,CAQA,mBACI,yBACCrB,IAAI,cACD,wCACI,aAAK,SAAS,CAAC,gBAAf,WACKS,OAAO,CAACa,GAAR,CAAY,SAACE,MAAD,qBACT,KAAC,MAAD,EAAQ,KAAK,CAAEA,MAAM,CAAClB,KAAtB,CAA6B,KAAK,CAAEkB,MAAM,CAACjB,KAA3C,CACA,SAAS,CAAEmB,SADX,CACsB,UAAU,CAAEH,oBADlC,CACwD,YAAY,CAAEO,YADtE,EADS,EAAZ,CADL,cAKI,aAAK,SAAS,CAAC,QAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,UAAG,SAAS,CAAC,cAAb,qBADJ,EADJ,cAII,YAAK,SAAS,CAAC,aAAf,CAA6B,EAAE,CAAC,SAAhC,UACKnB,OAAO,CAACW,GAAR,CAAY,SAACS,MAAD,qBACT,kCACI,UAAG,IAAI,CAAEA,MAAM,CAAC3C,GAAhB,CAAqB,MAAM,CAAC,QAA5B,CAAqC,SAAS,CAAC,cAA/C,UAA+D2C,MAAM,CAACzB,KAAtE,EADJ,EADS,EAAZ,CADL,EAJJ,GALJ,cAiBI,aAAK,SAAS,CAAC,QAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,UAAG,SAAS,CAAC,cAAb,sBADJ,EADJ,cAII,eAAQ,GAAG,CAAE,6CAA+CO,SAA/C,CAA2D,4BAAxE,CACQ,KAAK,CAAC,UADd,CAEQ,KAAK,CAAC,MAFd,CAEqB,MAAM,CAAC,KAF5B,CAEkC,WAAW,CAAC,GAF9C,CAEkD,SAAS,CAAC,IAF5D,EAJJ,GAjBJ,GADJ,cA4BI,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,iBAA5B,CAA8C,OAAO,CAAE,yBAAMc,CAAAA,eAAe,EAArB,EAAvD,wBA5BJ,cA6BI,KAAC,yBAAD,EACI,IAAI,CAAE1B,SADV,CAEI,MAAM,CAAE,wBAAMC,CAAAA,YAAY,CAAC,KAAD,CAAlB,EAFZ,CAGI,UAAU,CAAEN,UAHhB,CAII,eAAe,CAAEf,eAJrB,EA7BJ,cAmCI,KAAC,cAAD,EACI,IAAI,CAAEuB,eADV,CAEI,MAAM,CAAE,wBAAMC,CAAAA,kBAAkB,CAAC,KAAD,CAAxB,EAFZ,CAGI,oBAAoB,CAAEuB,oBAH1B,EAnCJ,GADC,cA2CD,sCA5CJ,EADJ,CAiDH,CA1ID,CA4IA,cAAe7B,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\r\nimport { Modal, Button, Form } from 'react-bootstrap';\r\n\r\nimport Widget from './Widget';\r\nimport AddWidgetModal from './AddWidgetModal';\r\nimport { bruh, addWidget, addLinkToWidget as addLink } from \"../scripts/login.js\"\r\nimport { UserContext } from \"../providers/UserProvider\"\r\n\r\n\r\nfunction MyVerticallyCenteredModal(props) {\r\n    const [website, setWebsite] = useState('');\r\n    const [url, setUrl] = useState('');\r\n\r\n    const onHide = () => { \r\n        props.onHide();\r\n        setWebsite('');\r\n        setUrl('');\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log(website, url, props.currWidget);\r\n        onHide();\r\n        props.addLinkToWidget(website, url, props.currWidget)\r\n    }\r\n\r\n    \r\n\r\n    return (\r\n      <Modal\r\n        {...props}\r\n        onHide={onHide}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            Modal heading\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <h4>Add Website</h4>\r\n            <Form onSubmit={onSubmit}>\r\n                <Form.Group controlId=\"websiteName\">\r\n                    <Form.Label>Website name</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"\" value={website} onChange={(e) => setWebsite(e.target.value)}/>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"url\">\r\n                    <Form.Label>URL</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"\" value={url} onChange={(e) => setUrl(e.target.value)}/>\r\n                </Form.Group>\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    Submit\r\n                </Button>\r\n            </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button onClick={onHide}>Close</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n  \r\n\r\nconst Dashboard = () => {\r\n    const user = useContext(UserContext);\r\n    const [modalShow, setModalShow] = React.useState(false);\r\n    const [currWidget, setCurrWidget] = React.useState('');\r\n    const [showWidgetModal, setShowWidgetModal] = useState(false);\r\n    const [widgets, setWidgets] = React.useState([ \r\n        {\r\n            title:\"Classes\", \r\n            links: [\r\n                {url: 'sp21.datastructur.es', name: 'CS61B'},\r\n                {url: 'https://www.notion.so/Cubstart-Intro-to-Building-Apps-d42282d66dd942c399b6ce87167889d6', name: 'Cubstart'},\r\n                {url: 'https://www.eecs70.org/', name: 'CS70'},\r\n            ]\r\n        },\r\n        {\r\n            title:\"Favorites\", \r\n            links: [\r\n                {url: 'sp21.datastructur.es', name: 'weird link'},\r\n                {url: 'https://www.notion.so/Cubstart-Intro-to-Building-Apps-d42282d66dd942c399b6ce87167889d6', name: 'Cubstart'},\r\n                {url: 'https://www.eecs70.org/', name: 'CS70'},\r\n            ]\r\n        },\r\n    ])\r\n    const [recents, setRecents] = useState([\r\n        {\r\n            title: 'Youtube',\r\n            url: 'https://www.youtube.com'\r\n        },\r\n        {\r\n            title: 'Netflix',\r\n            url: 'https://www.netflix.com'\r\n        },\r\n        {\r\n            title: 'Google',\r\n            url: 'https://www.google.com'\r\n        },\r\n    ])\r\n\r\n    useEffect (() => {\r\n        bruh()\r\n    }, [])\r\n\r\n    const userEmail = user?.email?.replace('@', '%40') //\"charlesming2002%40gmail.com\"\r\n    \r\n    const addLinkToWidget = (website, url, widgetName) => {\r\n        const toEdit = widgets.find(obj => {\r\n            return obj.title === widgetName\r\n        });\r\n        toEdit.links.push({url: url, name: website});\r\n        const newState = widgets.map((obj) => obj)\r\n        setWidgets(newState);\r\n        addLink(widgetName, website, url) //sync firebase\r\n    }\r\n\r\n    const removeLinkFromWidget = (widgetName, url) => {\r\n        const widget = widgets.find(obj => {\r\n            return obj.title === widgetName\r\n        });\r\n        widget.links = widget.links.filter((obj) => {\r\n            return obj.url !== url\r\n        });\r\n        const newState = widgets.map((obj) => obj)\r\n        setWidgets(newState)\r\n    }\r\n\r\n    const openModal = (widgetName) => {\r\n        setModalShow(true);\r\n        setCurrWidget(widgetName);\r\n    }\r\n\r\n    const openWidgetModal = () => {\r\n        setShowWidgetModal(true)\r\n    }\r\n\r\n    const addWidgetToDashboard = (title) => {\r\n        const old = widgets.map((obj) => obj)\r\n        old.push({title: title, links: []})\r\n        setWidgets(old);\r\n        addWidget(title) //sync firebase\r\n    }\r\n\r\n    const deleteWidget = (widgetName) => {\r\n        console.log('delete')\r\n        const newState = widgets.filter((obj) => {\r\n            return obj.title !== widgetName\r\n        })\r\n        setWidgets(newState)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {user ? \r\n            <>\r\n                <div className=\"dashboard-grid\">\r\n                    {widgets.map((widget) => (\r\n                        <Widget title={widget.title} links={widget.links}\r\n                        openModal={openModal} removeLink={removeLinkFromWidget} deleteWidget={deleteWidget}/>\r\n                    ))}\r\n                    <div className=\"widget\">\r\n                        <div className=\"widget-header\">\r\n                            <a className=\"widget-title\">Recents</a>\r\n                        </div>\r\n                        <div className=\"widget-grid\" id=\"recents\">\r\n                            {recents.map((recent) => (\r\n                                <div>\r\n                                    <a href={recent.url} target=\"_blank\" className=\"classes-link\">{recent.title}</a>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"widget\">\r\n                        <div className=\"widget-header\">\r\n                            <a className=\"widget-title\">Calendar</a>\r\n                        </div>\r\n                        <iframe src={\"https://www.google.com/calendar/embed?src=\" + userEmail + \"&ctz=America%2FLos_Angeles\"}\r\n                                title=\"calendar\"\r\n                                width=\"100%\" height=\"400\" frameborder=\"0\" scrolling=\"no\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <button type=\"button\" class=\"btn btn-primary\" onClick={() => openWidgetModal()}>Add widget</button>\r\n                <MyVerticallyCenteredModal\r\n                    show={modalShow}\r\n                    onHide={() => setModalShow(false)}\r\n                    currWidget={currWidget}\r\n                    addLinkToWidget={addLinkToWidget}\r\n                />\r\n                <AddWidgetModal\r\n                    show={showWidgetModal}\r\n                    onHide={() => setShowWidgetModal(false)}\r\n                    addWidgetToDashboard={addWidgetToDashboard}\r\n                />\r\n            </>\r\n            :\r\n            <h1>Please Sign in</h1>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n"]},"metadata":{},"sourceType":"module"}